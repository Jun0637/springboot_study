<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<h1>[ Thymeleaf ]</h1>

<!-- 로그인 했을 때만 실행 -->
<div sec:authorize="isAuthenticated()">
	<p>로그인 한 경우에만 보임</p>
	<!-- ROLE_USER 권한을 가지고 있다면 -->
	<p sec:authorize="hasRole('USER')">일반 사용자입니다.</p>
	<!-- ROLE_ADMIN 권한을 가지고 있다면 -->
	<p sec:authorize="hasRole('ADMIN')">관리자입니다.</p>
	
	<!-- 로그인한 아이디 -->
	<p sec:authentication="name"></p>
	<!-- 객체를 통으로 출력 -->
	<p sec:authentication="principal"></p>
	<!-- 객체의 권한을 출력 -->
	<p sec:authentication="principal.authorities"></p>
	
	<!-- 인증시 사용한 객체에 대한 정보 -->
	<!-- 객체를 통으로 출력 -->
	<p th:text="${#authentication}"></p>
	<p th:text="${#authentication.name}"></p>
	<p th:text="${#authentication.principal}"></p>
	<p th:text="${#authentication.principal.enabled}"></p>
	<p th:text="${#authentication.principal.authorities}"></p>
	
	<!-- 로그인한 아이디 확인 표현식 -->
	<!-- 이쪽 잘 이해못했음-->
	<!-- 로그인한 아이디가 메소드 설정한 ID, 홈컨트롤러 모델에 담은 ID랑 같을때 위에껄 많이쓴다. -->
	<p th:if="${#authentication.name == id}">ID는 aaa입니다.</p>
	<!-- 로그인한 아이디가 내가정한 ID, 홈컨트롤러 모델에 담은 ID랑 같을때 -->
	<p th:if="${#authentication.name == 'applemail1'}">ID는 aaa입니다.</p>
	<!-- 로그인한 아이디가 메소드 설정한 ID, 홈컨트롤러 모델에 담은 ID랑 같을때 -->
	<p th:if="${#authentication.name} == ${id}">ID는 aaa입니다.</p>

</div>

<!-- 로그인하지 않았을 때만 실행 -->
<div sec:authorize="not isAuthenticated()">
	<p>로그인 안 한 경우에만 보임</p>
</div>

</body>
</html>